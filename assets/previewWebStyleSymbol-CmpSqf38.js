import{ba as r,b_ as p}from"./index-3fJYBySH.js";import{t as l}from"./utils-BwXSu9Sz.js";import{N as u}from"./utils-CvToVRH6.js";import"./jsxFactory-CuNPoYln.js";import"./mat2df32-DAJEhYiL.js";import"./webStyleSymbolUtils-C4UXl75a.js";import"./Basemap-BF_RVH--.js";import"./writeUtils-E4KNM9sp.js";import"./utils-B21zLqEt.js";function y(i,e,t){var s;const m=(s=i.thumbnail)==null?void 0:s.url;return m?r(m,{responseType:"image"}).then(h=>{const o=d(h.data,t);return t!=null&&t.node?(t.node.appendChild(o),t.node):o}):u(i).then(h=>h?e(h,t):null)}function d(i,e){const t=!/\\.svg$/i.test(i.src)&&(e==null?void 0:e.disableUpsampling),m=Math.max(i.width,i.height);let s=(e==null?void 0:e.maxSize)!=null?p(e.maxSize):l.maxSize;t&&(s=Math.min(m,s));const h=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null,o=Math.min(s,h!=null?p(h):m);if(o!==m){const a=i.width!==0&&i.height!==0?i.width/i.height:1;a>=1?(i.width=o,i.height=o/a):(i.width=o*a,i.height=o)}return i}export{y as previewWebStyleSymbol};
